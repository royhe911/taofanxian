<extend name="Layout:layout" />
<block name="content">
	<!--<div class="row">
		<div class="col-lg-12">
	                    <h1 class="page-header">专题列表  </h1>
	    </div>
	</div>-->
	<nav class="breadcrumb" style="padding: 0px 15px; line-height: 37px; border-radius: 0; border-bottom: 1px solid #ddd; position: absolute;top: 0;left: 0;width: 100%;"><i class="fa fa-home"></i> 首页 <span class="c-gray en">&gt;</span> 专题管理 <span class="c-gray en">&gt;</span> 专题列表 <a class="btn btn-success radius r" style="margin-top:1px;float: right;padding: 6px 20px;" href="javascript:location.replace(location.href);" title="刷新" ><i class="fa fa-refresh"></i></a><div style="clear: both;"></div></nav>
	<div style="height: 50px; width: 100%;"></div>
	<div class="panel panel-default">
		<div class="panel-heading">
		 <a href="<?php echo U('Subj/addSubj');?>"><button type="button" class="btn btn-info btn-outline" style="float: right;">添加专题</button></a><div style="clear: both;"></div>
		</div>
		<!-- /.panel-heading -->
		<div class="panel-body">
			<div id="dataTables-example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
				<div class="row">
					<div class="col-sm-12">
						<table class="table table-striped table-bordered table-hover dataTable no-footer dtr-inline" id="dataTables-example" role="grid" aria-describedby="dataTables-example_info" style="width: 100%;" width="100%">
							<thead>
								<tr role="row">
									<th class="" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" style="width: 296px;" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending">ID</th>
									<th class="" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" style="width: 330px;" aria-label="Browser: activate to sort column ascending">名称</th>
									<th class="" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" style="width: 301px;" aria-label="Platform(s): activate to sort column ascending">专题图</th>
									<th class="" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" style="width: 194px;" aria-label="CSS grade: activate to sort column ascending">操作</th>
								</tr>
							</thead>
							<tbody>
								<foreach name="list" item="vo" key="k">
									<tr>
									<td class="sorting_1">{$vo.id}</td>
									<td>{$vo.name}</td>
									<td><img style="width:100px" alt="无法加载图片" src="/subj/{$vo.subj_img}"></td>
									<td class="center" >
										<a href="<?php echo U('Subj/editSubj' , array('id'=>$vo['id']) );?>"><button type="button" class="btn btn-primary">编辑</button></a>
										<!--<a href="<?php echo U('Subj/del' , array('id'=>$vo['id']) );?>"><button type="button" class="btn btn-primary">删除</button></a>
										<a href="javascript:alert('暂不支持删除!');"><button type="button" class="btn btn-danger">删除</button></a>-->
									</td>
									</tr>
								</foreach>
							</tbody>
						</table>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="dataTables_info" id="dataTables-example_info" role="status" aria-live="polite">显示  {$pagination.startRecord} 至 {$pagination.endRecord} 全部 {$pagination.totalCount} 条</div>
					</div>
					<div class="col-sm-6">
						<div class="dataTables_paginate paging_simple_numbers" id="dataTables-example_paginate">
							<ul class="pagination" id="list-pagination">
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!-- /.table-responsive -->

		</div>
		<!-- /.panel-body -->
	</div>



</block>
<block name="otherfoot">
	<script>
	$(function(){	
		var paginationOptions= $.extend(true, {$pagination|json_encode} , 
							{
									onPageClick: function (event, page) {
										var options = $(this).data('twbsPagination').options;
								        options.baseUrl = options.baseUrl.replace('.html','');
								        options.getParams.page = page; 
//								        options.getParams.pagesize = options.getParams.pagesize;
                                        var param = '';
										for(var x in options.getParams ){
								        		param += '/' + x + '/' + options.getParams[x];
								        }
//										console.log(param);return;
										
								        window.location.href =  options.baseUrl + param + '.html';
								    }
							});
		$('#list-pagination').twbsPagination(paginationOptions);
	});
	</script>
	
	
	
	
</block>